import{j as e,m as o,A as y}from"./motion-DnGypHtR.js";import{r as c}from"./router-CtMSw6XR.js";import{f as $,S as T,g as q,h as U,i as D,L as X,j as Y,k as J,l as K,m as Q,n as W,I as _}from"./catalog-items-C2K7e3oU.js";import{c as f,R as Z,G as ee,X as N,B as h,b as p,H as ae,S as B,g as M}from"./index-DtL9vcps.js";import{P as se,S as te}from"./page-transition-DDDpqz2B.js";import{u as re,P as O}from"./builder-store-DivMdoGJ.js";import{C as z,a as ie}from"./card-BnEoF436.js";import{B as d}from"./badge-DhGARVHE.js";import{I as le}from"./input-D5r2Ngqn.js";import{u as oe}from"./i18n-CerEJf-5.js";import{S as F}from"./index-Czy0zMe2.js";import{H as ne}from"./house-D2IFBBY_.js";import{S as v}from"./sparkles-BcTMEsGG.js";import{C as P}from"./star-C9uRYpZL.js";import"./rocket-bhMeg0H2.js";import"./target-BIgYBVxc.js";import"./leaf-DSJGJMxl.js";import"./ribbon-C3jYCEDT.js";import"./index-BAMtbQLM.js";const ce=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],de=f("arrow-up-down",ce);const me=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xe=f("funnel",me);const he=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],pe=f("grid-3x3",he);const ue=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ge=f("list",ue),fe=["all","chocolates","candles","accessories","wellness","drinks","stationery","tech","home"],je={all:v,chocolates:W,candles:Q,accessories:K,wellness:ae,drinks:J,stationery:Y,tech:X,home:ne},ye=["featured","priceLow","priceHigh","nameAz","newest"],A={hidden:{opacity:0,y:24,scale:.96},visible:a=>({opacity:1,y:0,scale:1,transition:{delay:a*.05,duration:.4,ease:"easeOut"}}),exit:{opacity:0,scale:.95,transition:{duration:.2}}};function Ne(a,m){const n=[...a];switch(m){case"featured":return n.sort((t,r)=>(r.popular?1:0)-(t.popular?1:0));case"priceLow":return n.sort((t,r)=>t.price-r.price);case"priceHigh":return n.sort((t,r)=>r.price-t.price);case"nameAz":return n.sort((t,r)=>t.name.localeCompare(r.name));case"newest":return n.sort((t,r)=>(r.isNew?1:0)-(t.isNew?1:0));default:return n}}function Re(){const{t:a}=oe(),{state:m,addItem:n}=re(),[t,r]=c.useState(""),[i,w]=c.useState("all"),[u,b]=c.useState("featured"),[x,k]=c.useState("grid"),[C,H]=c.useState(!1),[S,I]=c.useState(!1),j=c.useMemo(()=>{let s=$;if(i!=="all"&&(s=s.filter(l=>l.category===i)),t.trim()){const l=t.toLowerCase();s=s.filter(g=>g.name.toLowerCase().includes(l)||g.description.toLowerCase().includes(l)||g.tags.some(V=>V.toLowerCase().includes(l))||g.category.toLowerCase().includes(l))}return Ne(s,u)},[t,i,u]),G=s=>m.selectedItems.some(l=>l.id===s),E=s=>{n(s)},L=()=>{r(""),w("all"),b("featured")},R=t.trim()!==""||i!=="all"||u!=="featured";return e.jsxs(se,{children:[e.jsx(te,{title:a("catalog.title"),path:Z.CATALOG}),e.jsxs("section",{className:"relative overflow-hidden border-b bg-linear-to-br from-primary/5 via-background to-secondary/5",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,var(--color-primary)_0%,transparent_50%)] opacity-[0.06]"}),e.jsx(o.div,{animate:{y:[-8,8,-8]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute top-12 right-[12%] opacity-15 select-none text-primary/30",children:e.jsx(ee,{className:"h-10 w-10"})}),e.jsx(o.div,{animate:{y:[6,-10,6]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-8 left-[8%] opacity-10 select-none text-primary/30",children:e.jsx(T,{className:"h-8 w-8"})}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 sm:py-20 text-center",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs(d,{variant:"secondary",className:"mb-4 px-4 py-1.5 text-sm font-medium",children:[e.jsx(T,{className:"mr-1.5 h-3.5 w-3.5"}),a("catalog.title")]}),e.jsx("h1",{className:"text-3xl sm:text-5xl font-bold tracking-tight bg-linear-to-r from-foreground via-foreground to-foreground/70 bg-clip-text",children:a("catalog.title")}),e.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:a("catalog.subtitle")})]})})]}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15,duration:.4},className:"flex flex-col gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(le,{placeholder:a("catalog.searchPlaceholder"),"aria-label":a("catalog.searchPlaceholder"),value:t,onChange:s=>r(s.target.value),className:"pl-10 pr-10"}),t&&e.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","aria-label":a("catalog.clearFilters"),children:e.jsx(N,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>I(!S),className:"gap-1.5",children:[e.jsx(de,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:a("catalog.sortBy")})]}),e.jsx(y,{children:S&&e.jsx(o.div,{initial:{opacity:0,y:-4,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-1 z-50 w-48 rounded-lg border bg-popover p-1 shadow-lg",children:ye.map(s=>e.jsx("button",{onClick:()=>{b(s),I(!1)},className:p("w-full text-left text-sm px-3 py-2 rounded-md transition-colors",u===s?"bg-primary/10 text-primary font-medium":"hover:bg-muted"),children:a(`catalog.sortOptions.${s}`)},s))})})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>H(!C),className:"sm:hidden gap-1.5",children:e.jsx(xe,{className:"h-3.5 w-3.5"})}),e.jsxs("div",{className:"flex items-center rounded-lg border bg-muted/40 p-0.5",role:"group","aria-label":a("catalog.view","View"),children:[e.jsx("button",{onClick:()=>k("grid"),"aria-label":a("catalog.gridView","Grid view"),"aria-pressed":x==="grid",className:p("rounded-md p-1.5 transition-colors",x==="grid"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>k("list"),"aria-label":a("catalog.listView","List view"),"aria-pressed":x==="list",className:p("rounded-md p-1.5 transition-colors",x==="list"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:e.jsx(ge,{className:"h-4 w-4"})})]}),R&&e.jsxs(h,{variant:"ghost",size:"sm",onClick:L,className:"gap-1.5 text-muted-foreground",children:[e.jsx(N,{className:"h-3.5 w-3.5"}),a("catalog.clearFilters")]})]})]}),e.jsx("div",{className:"text-sm text-muted-foreground","aria-live":"polite",role:"status",children:a("catalog.showing",{count:j.length})})]}),e.jsx(o.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.25,duration:.4},className:p("mb-8",!C&&"hidden sm:block"),children:e.jsx(q,{value:i,onValueChange:w,children:e.jsx(U,{className:"flex flex-wrap h-auto gap-1 bg-transparent p-0",children:fe.map(s=>e.jsxs(D,{value:s,className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-full px-4 py-1.5 text-sm transition-all",children:[(()=>{const l=je[s];return l?e.jsx(l,{className:"mr-1.5 h-4 w-4"}):null})(),a(`catalog.categories.${s}`)]},s))})})}),e.jsx(B,{className:"mb-8"}),e.jsx(y,{mode:"popLayout",children:j.length===0?e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex flex-col items-center justify-center py-24 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx(F,{className:"h-14 w-14 text-muted-foreground/40 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:a("catalog.noResults")}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:a("catalog.subtitle")}),e.jsxs(h,{variant:"outline",onClick:L,children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),a("catalog.clearFilters")]})]},"empty"):e.jsx(o.div,{layout:!0,className:p(x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5":"flex flex-col gap-4"),children:e.jsx(y,{mode:"popLayout",children:j.map((s,l)=>e.jsx(ve,{item:s,index:l,view:x,isAdded:G(s.id),onAdd:()=>E(s),t:a},s.id))})},"grid")})]})]})}function ve({item:a,index:m,view:n,isAdded:t,onAdd:r,t:i}){return n==="list"?e.jsx(o.div,{layout:!0,custom:m,variants:A,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(z,{className:"group overflow-hidden transition-shadow hover:shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-5 p-4",children:[e.jsx(o.div,{whileHover:{scale:1.1,rotate:4},className:"flex h-16 w-16 shrink-0 items-center justify-center rounded-xl bg-muted/60",children:e.jsx(_,{name:a.icon,className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold truncate",children:a.name}),a.popular&&e.jsxs(d,{variant:"accent",className:"shrink-0 text-xs",children:[e.jsx(v,{className:"mr-1 h-3 w-3"}),i("catalog.popular")]}),a.isNew&&e.jsx(d,{variant:"success",className:"shrink-0 text-xs",children:i("catalog.new")})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:a.description}),e.jsx(d,{variant:"outline",className:"mt-1.5 text-xs",children:i(`catalog.categories.${a.category}`)})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsx("span",{className:"text-lg font-bold",children:M(a.price)}),e.jsxs(h,{size:"sm",variant:t?"secondary":"default",onClick:r,disabled:t,className:"gap-1.5",children:[t?e.jsx(P,{className:"h-3.5 w-3.5"}):e.jsx(O,{className:"h-3.5 w-3.5"}),i(t?"catalog.added":"catalog.addToBox")]})]})]})})}):e.jsx(o.div,{layout:!0,custom:m,variants:A,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(o.div,{whileHover:{y:-4},transition:{duration:.2},children:e.jsx(z,{className:"group h-full overflow-hidden transition-shadow hover:shadow-xl border-border/60",children:e.jsxs(ie,{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx(o.div,{whileHover:{scale:1.15,rotate:6},transition:{type:"spring",stiffness:300},className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-muted/60 shadow-sm",children:e.jsx(_,{name:a.icon,className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"flex gap-1.5",children:[a.popular&&e.jsxs(d,{variant:"accent",className:"text-xs",children:[e.jsx(v,{className:"mr-1 h-3 w-3"}),i("catalog.popular")]}),a.isNew&&e.jsx(d,{variant:"success",className:"text-xs",children:i("catalog.new")})]})]}),e.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-1 group-hover:text-primary transition-colors",children:a.name}),e.jsx(d,{variant:"outline",className:"text-xs mb-3",children:i(`catalog.categories.${a.category}`)}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 min-h-10",children:a.description}),e.jsx(B,{className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl font-bold tracking-tight",children:M(a.price)}),e.jsx(h,{size:"sm",variant:t?"secondary":"default",onClick:r,disabled:t,className:"gap-1.5 transition-all",children:t?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only",children:i("catalog.addToBox")})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-3.5 w-3.5"}),i("catalog.addToBox")]})})]})]})})})})}export{Re as default};
