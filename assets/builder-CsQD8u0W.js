import{j as e,A as Ne,m as b}from"./motion-DnGypHtR.js";import{r as u,i as hs}from"./router-CtMSw6XR.js";import{S as Se,a as fs,H as gs,B as vs,G as bs,T as js,P as ne,C as ys,b as Ns,F as Ss,c as ws,d as Cs,e as Ps,f as we,g as ks,h as Is,i as Es,I as _s}from"./catalog-items-C2K7e3oU.js";import{c as M,a as Rs,b as k,d as D,P as L,u as T,e as Ce,f as Pe,R as ke,B as w,H as Ie,g as P,G as ue,M as Ms,h as B,S as J,X as Ts}from"./index-DtL9vcps.js";import{C as O,a as z}from"./card-BnEoF436.js";import{P as Ee,B as K}from"./badge-DhGARVHE.js";import{I as R}from"./input-D5r2Ngqn.js";import{L as S}from"./label-D1cqZQcU.js";import{T as _e}from"./textarea-fi3qA3ou.js";import{u as Re}from"./index-BAMtbQLM.js";import{c as $s,u as As,S as ve}from"./index-Czy0zMe2.js";import{P as Ds,S as Bs}from"./page-transition-DDDpqz2B.js";import{u as E,T as be,P as Os}from"./builder-store-DivMdoGJ.js";import{u as _}from"./i18n-CerEJf-5.js";import{C as V,S as q}from"./star-C9uRYpZL.js";import{D as zs}from"./dollar-sign-CcI-GJE9.js";import{P as Ls,C as Hs}from"./palette-C5ZKo0VS.js";import{S as Q}from"./sparkles-BcTMEsGG.js";import{H as me}from"./house-D2IFBBY_.js";import{L as Ks}from"./leaf-DSJGJMxl.js";import{R as Vs}from"./ribbon-C3jYCEDT.js";import{P as Fs}from"./pencil-C2eFnROU.js";import"./rocket-bhMeg0H2.js";import"./target-BIgYBVxc.js";const Gs=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Us=M("chevron-left",Gs);const Ys=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xs=M("credit-card",Ys);const Zs=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qs=M("eye",Zs);const Ws=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Me=M("message-square",Ws);const Js=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qs=M("minus",Js);const et=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Te=M("rotate-ccw",et);const st=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tt=M("save",st);const at=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rt=M("user",at);function it(s,t=[]){let r=[];function a(n,l){const c=u.createContext(l);c.displayName=n+"Context";const d=r.length;r=[...r,l];const x=m=>{const{scope:o,children:h,...y}=m,j=o?.[s]?.[d]||c,g=u.useMemo(()=>y,Object.values(y));return e.jsx(j.Provider,{value:g,children:h})};x.displayName=n+"Provider";function p(m,o){const h=o?.[s]?.[d]||c,y=u.useContext(h);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${n}\``)}return[x,p]}const i=()=>{const n=r.map(l=>u.createContext(l));return function(c){const d=c?.[s]||n;return u.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return i.scopeName=s,[a,nt(i,...t)]}function nt(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const a=s.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(n){const l=a.reduce((c,{useScope:d,scopeName:x})=>{const m=d(n)[`__scope${x}`];return{...c,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var lt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=lt.reduce((s,t)=>{const r=Rs(`Primitive.${t}`),a=u.forwardRef((i,n)=>{const{asChild:l,...c}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:n})});return a.displayName=`Primitive.${t}`,{...s,[t]:a}},{}),pe="Progress",xe=100,[ct]=it(pe),[ot,dt]=ct(pe),Ae=u.forwardRef((s,t)=>{const{__scopeProgress:r,value:a=null,max:i,getValueLabel:n=ut,...l}=s;(i||i===0)&&!je(i)&&console.error(mt(`${i}`,"Progress"));const c=je(i)?i:xe;a!==null&&!ye(a,c)&&console.error(pt(`${a}`,"Progress"));const d=ye(a,c)?a:null,x=W(d)?n(d,c):void 0;return e.jsx(ot,{scope:r,value:d,max:c,children:e.jsx($e.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":W(d)?d:void 0,"aria-valuetext":x,role:"progressbar","data-state":Oe(d,c),"data-value":d??void 0,"data-max":c,...l,ref:t})})});Ae.displayName=pe;var De="ProgressIndicator",Be=u.forwardRef((s,t)=>{const{__scopeProgress:r,...a}=s,i=dt(De,r);return e.jsx($e.div,{"data-state":Oe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:t})});Be.displayName=De;function ut(s,t){return`${Math.round(s/t*100)}%`}function Oe(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function W(s){return typeof s=="number"}function je(s){return W(s)&&!isNaN(s)&&s>0}function ye(s,t){return W(s)&&!isNaN(s)&&s<=t&&s>=0}function mt(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xe}\`.`}function pt(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xe} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ze=Ae,xt=Be;const Le=u.forwardRef(({className:s,value:t,...r},a)=>e.jsx(ze,{ref:a,className:k("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...r,children:e.jsx(xt,{className:"h-full w-full flex-1 bg-primary transition-all duration-500 ease-out",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Le.displayName=ze.displayName;function He(s,[t,r]){return Math.min(r,Math.max(t,s))}function Ke(s){const t=u.useRef({value:s,previous:s});return u.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var Ve=["PageUp","PageDown"],Fe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ge={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},F="Slider",[le,ht,ft]=$s(F),[Ue]=Pe(F,[ft]),[gt,ee]=Ue(F),Ye=u.forwardRef((s,t)=>{const{name:r,min:a=0,max:i=100,step:n=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:x=[a],value:p,onValueChange:m=()=>{},onValueCommit:o=()=>{},inverted:h=!1,form:y,...j}=s,g=u.useRef(new Set),f=u.useRef(0),v=l==="horizontal"?vt:bt,[N=[],G]=Re({prop:p,defaultProp:x,onChange:C=>{[...g.current][f.current]?.focus(),m(C)}}),te=u.useRef(N);function ae(C){const $=wt(N,C);U(C,$)}function ps(C){U(C,f.current)}function xs(){const C=te.current[f.current];N[f.current]!==C&&o(N)}function U(C,$,{commit:re}={commit:!1}){const fe=It(n),ie=Et(Math.round((C-a)/n)*n+a,fe),Y=He(ie,[a,i]);G((H=[])=>{const A=Nt(H,Y,$);if(kt(A,d*n)){f.current=A.indexOf(Y);const ge=String(A)!==String(H);return ge&&re&&o(A),ge?A:H}else return H})}return e.jsx(gt,{scope:s.__scopeSlider,name:r,disabled:c,min:a,max:i,valueIndexToChangeRef:f,thumbs:g.current,values:N,orientation:l,form:y,children:e.jsx(le.Provider,{scope:s.__scopeSlider,children:e.jsx(le.Slot,{scope:s.__scopeSlider,children:e.jsx(v,{"aria-disabled":c,"data-disabled":c?"":void 0,...j,ref:t,onPointerDown:D(j.onPointerDown,()=>{c||(te.current=N)}),min:a,max:i,inverted:h,onSlideStart:c?void 0:ae,onSlideMove:c?void 0:ps,onSlideEnd:c?void 0:xs,onHomeKeyDown:()=>!c&&U(a,0,{commit:!0}),onEndKeyDown:()=>!c&&U(i,N.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:$})=>{if(!c){const ie=Ve.includes(C.key)||C.shiftKey&&Fe.includes(C.key)?10:1,Y=f.current,H=N[Y],A=n*ie*$;U(H+A,Y,{commit:!0})}}})})})})});Ye.displayName=F;var[Xe,Ze]=Ue(F,{startEdge:"left",endEdge:"right",size:"width",direction:1}),vt=u.forwardRef((s,t)=>{const{min:r,max:a,dir:i,inverted:n,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:x,...p}=s,[m,o]=u.useState(null),h=T(t,v=>o(v)),y=u.useRef(void 0),j=As(i),g=j==="ltr",f=g&&!n||!g&&n;function I(v){const N=y.current||m.getBoundingClientRect(),G=[0,N.width],ae=he(G,f?[r,a]:[a,r]);return y.current=N,ae(v-N.left)}return e.jsx(Xe,{scope:s.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(qe,{dir:j,"data-orientation":"horizontal",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const N=I(v.clientX);l?.(N)},onSlideMove:v=>{const N=I(v.clientX);c?.(N)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:v=>{const G=Ge[f?"from-left":"from-right"].includes(v.key);x?.({event:v,direction:G?-1:1})}})})}),bt=u.forwardRef((s,t)=>{const{min:r,max:a,inverted:i,onSlideStart:n,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...x}=s,p=u.useRef(null),m=T(t,p),o=u.useRef(void 0),h=!i;function y(j){const g=o.current||p.current.getBoundingClientRect(),f=[0,g.height],v=he(f,h?[a,r]:[r,a]);return o.current=g,v(j-g.top)}return e.jsx(Xe,{scope:s.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:e.jsx(qe,{"data-orientation":"vertical",...x,ref:m,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const g=y(j.clientY);n?.(g)},onSlideMove:j=>{const g=y(j.clientY);l?.(g)},onSlideEnd:()=>{o.current=void 0,c?.()},onStepKeyDown:j=>{const f=Ge[h?"from-bottom":"from-top"].includes(j.key);d?.({event:j,direction:f?-1:1})}})})}),qe=u.forwardRef((s,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...x}=s,p=ee(F,r);return e.jsx(L.span,{...x,ref:t,onKeyDown:D(s.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):Ve.concat(Fe).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:D(s.onPointerDown,m=>{const o=m.target;o.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(o)?o.focus():a(m)}),onPointerMove:D(s.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:D(s.onPointerUp,m=>{const o=m.target;o.hasPointerCapture(m.pointerId)&&(o.releasePointerCapture(m.pointerId),n(m))})})}),We="SliderTrack",Je=u.forwardRef((s,t)=>{const{__scopeSlider:r,...a}=s,i=ee(We,r);return e.jsx(L.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:t})});Je.displayName=We;var ce="SliderRange",Qe=u.forwardRef((s,t)=>{const{__scopeSlider:r,...a}=s,i=ee(ce,r),n=Ze(ce,r),l=u.useRef(null),c=T(t,l),d=i.values.length,x=i.values.map(o=>ts(o,i.min,i.max)),p=d>1?Math.min(...x):0,m=100-Math.max(...x);return e.jsx(L.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:c,style:{...s.style,[n.startEdge]:p+"%",[n.endEdge]:m+"%"}})});Qe.displayName=ce;var oe="SliderThumb",es=u.forwardRef((s,t)=>{const r=ht(s.__scopeSlider),[a,i]=u.useState(null),n=T(t,c=>i(c)),l=u.useMemo(()=>a?r().findIndex(c=>c.ref.current===a):-1,[r,a]);return e.jsx(jt,{...s,ref:n,index:l})}),jt=u.forwardRef((s,t)=>{const{__scopeSlider:r,index:a,name:i,...n}=s,l=ee(oe,r),c=Ze(oe,r),[d,x]=u.useState(null),p=T(t,I=>x(I)),m=d?l.form||!!d.closest("form"):!0,o=Ce(d),h=l.values[a],y=h===void 0?0:ts(h,l.min,l.max),j=St(a,l.values.length),g=o?.[c.size],f=g?Ct(g,y,c.direction):0;return u.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${y}% + ${f}px)`},children:[e.jsx(le.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(L.span,{role:"slider","aria-label":s["aria-label"]||j,"aria-valuemin":l.min,"aria-valuenow":h,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...n,ref:p,style:h===void 0?{display:"none"}:s.style,onFocus:D(s.onFocus,()=>{l.valueIndexToChangeRef.current=a})})}),m&&e.jsx(ss,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:h},a)]})});es.displayName=oe;var yt="RadioBubbleInput",ss=u.forwardRef(({__scopeSlider:s,value:t,...r},a)=>{const i=u.useRef(null),n=T(i,a),l=Ke(t);return u.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&p){const m=new Event("input",{bubbles:!0});p.call(c,t),c.dispatchEvent(m)}},[l,t]),e.jsx(L.input,{style:{display:"none"},...r,ref:n,defaultValue:t})});ss.displayName=yt;function Nt(s=[],t,r){const a=[...s];return a[r]=t,a.sort((i,n)=>i-n)}function ts(s,t,r){const n=100/(r-t)*(s-t);return He(n,[0,100])}function St(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function wt(s,t){if(s.length===1)return 0;const r=s.map(i=>Math.abs(i-t)),a=Math.min(...r);return r.indexOf(a)}function Ct(s,t,r){const a=s/2,n=he([0,50],[0,a]);return(a-n(t)*r)*r}function Pt(s){return s.slice(0,-1).map((t,r)=>s[r+1]-t)}function kt(s,t){if(t>0){const r=Pt(s);return Math.min(...r)>=t}return!0}function he(s,t){return r=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(s[1]-s[0]);return t[0]+a*(r-s[0])}}function It(s){return(String(s).split(".")[1]||"").length}function Et(s,t){const r=Math.pow(10,t);return Math.round(s*r)/r}var as=Ye,_t=Je,Rt=Qe,Mt=es;const rs=u.forwardRef(({className:s,...t},r)=>e.jsxs(as,{ref:r,className:k("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(_t,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(Rt,{className:"absolute h-full bg-primary"})}),e.jsx(Mt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-grab active:cursor-grabbing"})]}));rs.displayName=as.displayName;var se="Switch",[Tt]=Pe(se),[$t,At]=Tt(se),is=u.forwardRef((s,t)=>{const{__scopeSwitch:r,name:a,checked:i,defaultChecked:n,required:l,disabled:c,value:d="on",onCheckedChange:x,form:p,...m}=s,[o,h]=u.useState(null),y=T(t,v=>h(v)),j=u.useRef(!1),g=o?p||!!o.closest("form"):!0,[f,I]=Re({prop:i,defaultProp:n??!1,onChange:x,caller:se});return e.jsxs($t,{scope:r,checked:f,disabled:c,children:[e.jsx(L.button,{type:"button",role:"switch","aria-checked":f,"aria-required":l,"data-state":os(f),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:y,onClick:D(s.onClick,v=>{I(N=>!N),g&&(j.current=v.isPropagationStopped(),j.current||v.stopPropagation())})}),g&&e.jsx(cs,{control:o,bubbles:!j.current,name:a,value:d,checked:f,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});is.displayName=se;var ns="SwitchThumb",ls=u.forwardRef((s,t)=>{const{__scopeSwitch:r,...a}=s,i=At(ns,r);return e.jsx(L.span,{"data-state":os(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});ls.displayName=ns;var Dt="SwitchBubbleInput",cs=u.forwardRef(({__scopeSwitch:s,control:t,checked:r,bubbles:a=!0,...i},n)=>{const l=u.useRef(null),c=T(l,n),d=Ke(r),x=Ce(t);return u.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==r&&h){const y=new Event("click",{bubbles:a});h.call(p,r),p.dispatchEvent(y)}},[d,r,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cs.displayName=Dt;function os(s){return s?"checked":"unchecked"}var ds=is,Bt=ls;const us=u.forwardRef(({className:s,...t},r)=>e.jsx(ds,{className:k("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:e.jsx(Bt,{className:k("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));us.displayName=ds.displayName;const ms={birthday:ys,anniversary:ne,valentine:Ie,christmas:js,halloween:Ms,graduation:bs,newBaby:vs,thankYou:gs,getWell:fs,wedding:Q,housewarming:me,justBecause:ue},Ot=Object.keys(ms),zt=["partner","friend","parent","sibling","colleague","child","teacher","other"],Lt=["foodie","fitness","bookworm","techLover","artist","natureLover","fashionista","gamer","traveler","musician"],Ht=[{key:"budget",value:25},{key:"standard",value:50},{key:"premium",value:100},{key:"luxury",value:200}],Kt=["S","M","L"],Vt=["classic","luxury","eco"],de={rose:"#f43f5e",ocean:"#0ea5e9",forest:"#22c55e",sunset:"#f97316",midnight:"#8b5cf6",minimal:"#f5f5f5",festive:"#ef4444",pastel:"#f9a8d4"},Ft=Object.keys(de),Gt=["none","dots","stripes","floral","geometric","stars"],Ut=["heartfelt","funny","formal","romantic","casual"],Yt=["all",...new Set(we.map(s=>s.category))],Xt=[Ie,rt,zs,Ee,Ls,Se,Me,qs,Xs],Zt={enter:s=>({x:s>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:s=>({x:s<0?300:-300,opacity:0})},qt={type:"tween",ease:"easeInOut",duration:.35},X={animate:{transition:{staggerChildren:.04}}},Z={initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.3}},Wt=["#f43f5e","#0ea5e9","#22c55e","#f97316","#8b5cf6","#f9a8d4"];function Jt(){return Array.from({length:50},(s,t)=>({id:t,x:Math.random()*100,delay:Math.random()*2,duration:2+Math.random()*2,size:6+Math.random()*8,color:Wt[Math.floor(Math.random()*6)],rotation:Math.random()*360,isCircle:Math.random()>.5}))}function Qt(){const[s]=u.useState(()=>Jt());return e.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 overflow-hidden",children:s.map(t=>e.jsx(b.div,{initial:{y:-20,x:`${t.x}vw`,opacity:1,rotate:0,scale:1},animate:{y:"110vh",opacity:0,rotate:t.rotation+720,scale:.5},transition:{duration:t.duration,delay:t.delay,ease:"easeIn"},style:{position:"absolute",width:t.size,height:t.size,borderRadius:t.isCircle?"50%":"2px",backgroundColor:t.color}},t.id))})}function ea(){const{t:s}=_(),{state:t,setState:r}=E();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.occasion.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.occasion.description")})]}),e.jsx(b.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",variants:X,initial:"initial",animate:"animate",children:Ot.map(a=>e.jsx(b.div,{variants:Z,children:e.jsx(O,{className:k("cursor-pointer transition-all duration-200 hover:scale-[1.03] hover:shadow-lg",t.occasion===a?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/40"),onClick:()=>r({occasion:a}),children:e.jsxs(z,{className:"p-4 text-center space-y-2",children:[e.jsx("span",{className:"flex justify-center text-primary",role:"img","aria-label":a,children:(()=>{const i=ms[a];return e.jsx(i,{className:"h-8 w-8"})})()}),e.jsx("p",{className:"text-sm font-medium leading-tight",children:s(`builder.steps.occasion.options.${a}`)}),t.occasion===a&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},className:"flex justify-center",children:e.jsx(V,{className:"h-4 w-4 text-primary"})})]})})},a))})]})}function sa(){const{t:s}=_(),{state:t,setState:r}=E(),a=u.useCallback(i=>{const n=t.recipientInterests;r({recipientInterests:n.includes(i)?n.filter(l=>l!==i):[...n,i]})},[t.recipientInterests,r]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.recipient.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.recipient.description")})]}),e.jsxs("div",{className:"space-y-2 max-w-md mx-auto",children:[e.jsx(S,{htmlFor:"recipient-name",children:s("builder.steps.recipient.name")}),e.jsx(R,{id:"recipient-name",placeholder:s("builder.steps.recipient.namePlaceholder"),value:t.recipientName,onChange:i=>r({recipientName:i.target.value})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.recipient.relationship")}),e.jsx(b.div,{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",variants:X,initial:"initial",animate:"animate",children:zt.map(i=>e.jsx(b.div,{variants:Z,children:e.jsx(w,{variant:t.recipientRelationship===i?"default":"outline",className:"w-full justify-center",size:"sm",onClick:()=>r({recipientRelationship:i}),children:s(`builder.steps.recipient.relationships.${i}`)})},i))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.recipient.interests")}),e.jsx(b.div,{className:"flex flex-wrap gap-2 justify-center",variants:X,initial:"initial",animate:"animate",children:Lt.map(i=>{const n=t.recipientInterests.includes(i);return e.jsx(b.div,{variants:Z,children:e.jsxs(K,{variant:n?"default":"outline",className:k("cursor-pointer select-none px-3 py-1.5 text-sm transition-all",n?"shadow-md":"hover:bg-primary/10"),onClick:()=>a(i),children:[n&&e.jsx(V,{className:"mr-1 h-3 w-3"}),s(`builder.steps.recipient.interestTags.${i}`)]})},i)})})]})]})}function ta(){const{t:s}=_(),{state:t,setState:r}=E();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.budget.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.budget.description")})]}),e.jsxs("div",{className:"max-w-lg mx-auto space-y-8",children:[e.jsx(b.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:e.jsx("span",{className:"text-4xl sm:text-5xl font-bold font-serif text-primary",children:P(t.budget)})},t.budget),e.jsxs("div",{className:"px-2",children:[e.jsx(rs,{value:[t.budget],onValueChange:([a])=>r({budget:a}),min:10,max:200,step:5}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:P(10)}),e.jsx("span",{children:P(200)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"text-sm text-muted-foreground",children:s("builder.steps.budget.custom")}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Ht.map(a=>e.jsxs(w,{variant:t.budget===a.value?"default":"outline",onClick:()=>r({budget:a.value}),className:"flex-col h-auto py-3",children:[e.jsx("span",{className:"text-xs opacity-70",children:s(`builder.steps.budget.presets.${a.key}`)}),e.jsx("span",{className:"font-bold",children:P(a.value)})]},a.key))})]})]})]})}function aa(){const{t:s}=_(),{state:t,setState:r}=E(),a={S:Ee,M:ue,L:me},i={classic:Vs,luxury:Q,eco:Ks};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.packaging.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.packaging.description")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.packaging.boxSize")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Kt.map(n=>{const l=B.BOX_SIZES[n],c=t.boxSize===n;return e.jsx(b.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(O,{className:k("cursor-pointer transition-all duration-200",c?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/40"),onClick:()=>r({boxSize:n}),children:e.jsxs(z,{className:"p-5 text-center space-y-2",children:[e.jsx("span",{className:"flex justify-center text-primary",children:(()=>{const d=a[n];return e.jsx(d,{className:"h-8 w-8"})})()}),e.jsx("p",{className:"font-semibold",children:s(`builder.steps.packaging.sizes.${n}.label`)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s(`builder.steps.packaging.sizes.${n}.description`)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s(`builder.steps.packaging.sizes.${n}.items`,{count:l.maxItems})}),e.jsx(K,{variant:c?"default":"secondary",children:P(l.basePrice)}),c&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(V,{className:"h-4 w-4 text-primary mx-auto"})})]})})},n)})})]}),e.jsx(J,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.packaging.style")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Vt.map(n=>{const l=B.PACKAGING[n],c=t.packagingStyle===n;return e.jsx(b.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(O,{className:k("cursor-pointer transition-all duration-200",c?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/40"),onClick:()=>r({packagingStyle:n}),children:e.jsxs(z,{className:"p-5 text-center space-y-2",children:[e.jsx("span",{className:"flex justify-center text-primary",children:(()=>{const d=i[n];return e.jsx(d,{className:"h-8 w-8"})})()}),e.jsx("p",{className:"font-semibold",children:s(`builder.steps.packaging.styles.${n}.label`)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s(`builder.steps.packaging.styles.${n}.description`)}),l.multiplier!==1&&e.jsxs(K,{variant:"accent",className:"text-[10px]",children:["×",l.multiplier]}),c&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(V,{className:"h-4 w-4 text-primary mx-auto"})})]})})},n)})})]})]})}function ra(){const{t:s}=_(),{state:t,setState:r}=E();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.theme.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.theme.description")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.theme.colorPalette")}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:Ft.map(a=>{const i=t.themePalette===a;return e.jsxs(b.button,{whileHover:{scale:1.15},whileTap:{scale:.95},onClick:()=>r({themePalette:a}),className:"flex flex-col items-center gap-1.5 group",children:[e.jsx("div",{className:k("w-12 h-12 rounded-full shadow-md transition-all duration-200 border-2",i?"border-foreground ring-2 ring-primary ring-offset-2 ring-offset-background scale-110":"border-transparent group-hover:border-primary/40"),style:{backgroundColor:de[a]},children:i&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},className:"w-full h-full flex items-center justify-center",children:e.jsx(V,{className:"h-5 w-5",style:{color:a==="minimal"?"#333":"#fff"}})})}),e.jsx("span",{className:k("text-xs",i?"font-semibold text-foreground":"text-muted-foreground"),children:s(`builder.steps.theme.palettes.${a}`)})]},a)})})]}),e.jsx(J,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base",children:s("builder.steps.theme.pattern")}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:Gt.map(a=>{const i=t.themePattern===a,n={none:Ps,dots:Cs,stripes:ws,floral:Ss,geometric:Ns,stars:q};return e.jsxs(w,{variant:i?"default":"outline",className:"flex-col h-auto py-3 gap-1",onClick:()=>r({themePattern:a}),children:[e.jsx("span",{className:"flex justify-center",children:(()=>{const l=n[a];return e.jsx(l,{className:"h-5 w-5"})})()}),e.jsx("span",{className:"text-[11px]",children:s(`builder.steps.theme.patterns.${a}`)})]},a)})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-32 h-32 sm:w-40 sm:h-40 rounded-xl shadow-lg border-2 border-border flex items-center justify-center relative overflow-hidden",style:{backgroundColor:de[t.themePalette]||"#f5f5f5"},children:[e.jsx(ue,{className:"h-10 w-10 text-white/80 z-10"}),t.themePattern==="dots"&&e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, white 2px, transparent 2px)",backgroundSize:"12px 12px"}}),t.themePattern==="stripes"&&e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 6px, white 6px, white 8px)"}}),t.themePattern==="stars"&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:[e.jsx(q,{className:"h-5 w-5 text-white"}),e.jsx(q,{className:"h-5 w-5 text-white"}),e.jsx(q,{className:"h-5 w-5 text-white"})]})]},`${t.themePalette}-${t.themePattern}`)})]})}function ia(){const{t:s}=_(),{state:t,addItem:r,removeItem:a}=E(),[i,n]=u.useState(""),[l,c]=u.useState("all"),d=B.BOX_SIZES[t.boxSize].maxItems,x=u.useMemo(()=>we.filter(o=>{const h=!i||o.name.toLowerCase().includes(i.toLowerCase())||o.tags.some(j=>j.toLowerCase().includes(i.toLowerCase())),y=l==="all"||o.category===l;return h&&y}),[i,l]),p=u.useCallback(o=>t.selectedItems.some(h=>h.id===o),[t.selectedItems]),m=t.selectedItems.length>=d;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.items.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.items.description")})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs(K,{variant:m?"destructive":"secondary",className:"text-sm px-3 py-1",children:[e.jsx(Se,{className:"mr-1.5 h-3.5 w-3.5"}),s("builder.steps.items.itemsSelected",{count:t.selectedItems.length})," / ",d," ",s("builder.steps.items.maxItems")]}),m&&e.jsx(b.span,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},className:"text-sm text-destructive font-medium",children:s("builder.steps.items.boxFull")})]}),e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(R,{placeholder:s("builder.steps.items.search"),"aria-label":s("builder.steps.items.search"),value:i,onChange:o=>n(o.target.value),className:"pl-9"}),i&&e.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":s("catalog.clearFilters","Clear search"),children:e.jsx(Ts,{className:"h-4 w-4"})})]}),e.jsx(ks,{value:l,onValueChange:c,children:e.jsx(Is,{className:"flex-wrap h-auto gap-1 bg-transparent justify-center",children:Yt.map(o=>e.jsx(Es,{value:o,className:"capitalize text-xs",children:o==="all"?s("builder.steps.items.search").replace("...","")||"All":o},o))})}),e.jsx(b.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",variants:X,initial:"initial",animate:"animate",children:x.map(o=>{const h=p(o.id);return e.jsx(b.div,{variants:Z,layout:!0,children:e.jsx(O,{className:k("transition-all duration-200",h?"ring-2 ring-primary border-primary bg-primary/5":""),children:e.jsxs(z,{className:"p-4 flex items-center gap-3",children:[e.jsx(_s,{name:o.icon,className:"h-7 w-7 text-primary shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:o.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm font-semibold text-primary",children:P(o.price)}),o.popular&&e.jsx(K,{variant:"accent",className:"text-[10px] py-0",children:e.jsx(Q,{className:"h-3 w-3"})}),o.isNew&&e.jsx(K,{variant:"success",className:"text-[10px] py-0",children:"NEW"})]})]}),e.jsx("div",{className:"shrink-0",children:h?e.jsx(w,{size:"icon",variant:"destructive",className:"h-8 w-8",onClick:()=>a(o.id),"aria-label":s("builder.steps.items.remove","Remove")+": "+o.name,children:e.jsx(Qs,{className:"h-4 w-4"})}):e.jsx(w,{size:"icon",variant:"outline",className:"h-8 w-8",disabled:m,onClick:()=>r(o),"aria-label":s("builder.steps.items.add","Add")+": "+o.name,children:e.jsx(Os,{className:"h-4 w-4"})})})]})})},o.id)})}),x.length===0&&e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(ve,{className:"h-10 w-10 mx-auto mb-3 opacity-30"}),e.jsxs("p",{children:[s("builder.steps.items.search")," — 0 results"]})]})]})}function na(){const{t:s}=_(),{state:t,setState:r}=E();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.card.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.card.description")})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(us,{checked:t.includeCard,onCheckedChange:a=>r({includeCard:a}),id:"include-card"}),e.jsxs(S,{htmlFor:"include-card",className:"cursor-pointer text-base",children:[s("builder.steps.card.includeCard")," (+",P(B.CARD_PRICE),")"]})]}),e.jsx(Ne,{children:t.includeCard&&e.jsxs(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-6 overflow-hidden",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"text-sm",children:s("builder.steps.card.title")}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Ut.map(a=>e.jsx(w,{size:"sm",variant:t.cardTone===a?"default":"outline",onClick:()=>{r({cardTone:a,cardMessage:s(`builder.steps.card.tonePresets.${a}`)})},children:s(`builder.steps.card.tones.${a}`)},a))})]}),e.jsxs("div",{className:"space-y-2 max-w-lg mx-auto",children:[e.jsx(S,{htmlFor:"card-message",children:s("builder.steps.card.message")}),e.jsx(_e,{id:"card-message",placeholder:s("builder.steps.card.messagePlaceholder"),value:t.cardMessage,onChange:a=>r({cardMessage:a.target.value}),rows:5,maxLength:300,className:"resize-none"}),e.jsx("p",{className:"text-xs text-right text-muted-foreground",children:s("builder.steps.card.characters",{count:t.cardMessage.length,max:300})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(b.div,{layout:!0,className:"bg-card border-2 border-dashed border-primary/30 rounded-xl p-6 max-w-sm w-full text-center space-y-2 shadow-sm",children:[e.jsx(Me,{className:"h-6 w-6 mx-auto text-primary/50"}),e.jsx("p",{className:"text-sm italic text-muted-foreground whitespace-pre-wrap min-h-12",children:t.cardMessage||s("builder.steps.card.messagePlaceholder")})]})})]})})]})}function la(){const{t:s}=_(),{state:t,setStep:r,getTotalPrice:a}=E(),i=[{step:0,label:s("builder.steps.preview.occasion"),value:t.occasion?s(`builder.steps.occasion.options.${t.occasion}`):"—"},{step:1,label:s("builder.steps.preview.recipient"),value:[t.recipientName,t.recipientRelationship?s(`builder.steps.recipient.relationships.${t.recipientRelationship}`):""].filter(Boolean).join(" — ")||"—"},{step:2,label:s("builder.steps.budget.title"),value:P(t.budget)},{step:3,label:s("builder.steps.preview.packaging"),value:`${s(`builder.steps.packaging.sizes.${t.boxSize}.label`)} / ${s(`builder.steps.packaging.styles.${t.packagingStyle}.label`)}`},{step:4,label:s("builder.steps.preview.theme"),value:`${s(`builder.steps.theme.palettes.${t.themePalette}`)} + ${s(`builder.steps.theme.patterns.${t.themePattern}`)}`},{step:5,label:s("builder.steps.preview.items"),value:t.selectedItems.length>0?t.selectedItems.map(n=>n.name).join(", "):"—"},{step:6,label:s("builder.steps.preview.cardMessage"),value:t.includeCard&&t.cardMessage||"—"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.preview.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.preview.description")})]}),e.jsx(b.div,{className:"space-y-3 max-w-2xl mx-auto",variants:X,initial:"initial",animate:"animate",children:i.map(n=>e.jsx(b.div,{variants:Z,children:e.jsx(O,{children:e.jsxs(z,{className:"p-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:n.label}),e.jsx("p",{className:"text-sm font-medium mt-0.5 truncate",children:n.value})]}),e.jsxs(w,{size:"sm",variant:"ghost",onClick:()=>r(n.step),children:[e.jsx(Fs,{className:"h-3.5 w-3.5 mr-1"}),s("builder.steps.preview.editStep")]})]})})},n.step))}),e.jsxs("div",{className:"text-center pt-4",children:[e.jsx(J,{className:"mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s("builder.pricing.total")}),e.jsx("p",{className:"text-3xl font-bold font-serif text-primary",children:P(a())})]})]})}function ca(){const{t:s}=_(),t=hs(),{state:r,setState:a,resetBuilder:i,getTotalPrice:n}=E(),[l,c]=u.useState(!1),d=()=>{a({orderPlaced:!0}),c(!0),setTimeout(()=>c(!1),5e3)};if(r.orderPlaced)return e.jsxs("div",{className:"space-y-8",children:[l&&e.jsx(Qt,{}),e.jsxs(b.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-center space-y-6 py-12",children:[e.jsx(b.div,{className:"flex justify-center",animate:{rotate:[0,-10,10,-10,0],scale:[1,1.2,1]},transition:{duration:1,delay:.3},children:e.jsx(ne,{className:"h-16 w-16 text-primary"})}),e.jsx("h2",{className:"font-serif text-3xl font-bold",children:s("builder.steps.checkout.orderPlaced")}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:s("builder.steps.checkout.orderMessage")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[e.jsxs(w,{variant:"default",onClick:()=>{i(),t(ke.HOME)},children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),s("builder.steps.checkout.backToHome")]}),e.jsxs(w,{variant:"outline",onClick:()=>{i()},children:[e.jsx(Te,{className:"mr-2 h-4 w-4"}),s("builder.steps.checkout.buildAnother")]})]})]})]});const x=r.deliveryName.trim()&&r.deliveryAddress.trim()&&r.deliveryCity.trim()&&r.deliveryZip.trim()&&r.deliveryCountry.trim();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:s("builder.steps.checkout.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("builder.steps.checkout.description")})]}),e.jsx(O,{className:"max-w-xl mx-auto",children:e.jsxs(z,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-name",children:s("builder.steps.checkout.recipientName")}),e.jsx(R,{id:"delivery-name",value:r.deliveryName,onChange:p=>a({deliveryName:p.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-country",children:s("builder.steps.checkout.country")}),e.jsx(R,{id:"delivery-country",value:r.deliveryCountry,onChange:p=>a({deliveryCountry:p.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-address",children:s("builder.steps.checkout.address")}),e.jsx(R,{id:"delivery-address",value:r.deliveryAddress,onChange:p=>a({deliveryAddress:p.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-city",children:s("builder.steps.checkout.city")}),e.jsx(R,{id:"delivery-city",value:r.deliveryCity,onChange:p=>a({deliveryCity:p.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-zip",children:s("builder.steps.checkout.zipCode")}),e.jsx(R,{id:"delivery-zip",value:r.deliveryZip,onChange:p=>a({deliveryZip:p.target.value})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-date",children:s("builder.steps.checkout.deliveryDate")}),e.jsx(R,{id:"delivery-date",type:"date",value:r.deliveryDate,onChange:p=>a({deliveryDate:p.target.value})})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"delivery-notes",children:s("builder.steps.checkout.notes")}),e.jsx(_e,{id:"delivery-notes",placeholder:s("builder.steps.checkout.notesPlaceholder"),value:r.deliveryNotes,onChange:p=>a({deliveryNotes:p.target.value}),rows:3,className:"resize-none"})]})]})}),e.jsx(O,{className:"max-w-xl mx-auto",children:e.jsxs(z,{className:"p-6 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s("builder.pricing.baseBox")}),e.jsx("span",{children:P(B.BOX_SIZES[r.boxSize].basePrice)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s("builder.pricing.items")," (",r.selectedItems.length,")"]}),e.jsx("span",{children:P(r.selectedItems.reduce((p,m)=>p+m.price,0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s("builder.pricing.packaging")}),e.jsxs("span",{children:["×",B.PACKAGING[r.packagingStyle].multiplier]})]}),r.includeCard&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s("builder.pricing.giftCard")}),e.jsx("span",{children:P(B.CARD_PRICE)})]}),e.jsx(J,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:s("builder.pricing.total")}),e.jsx("span",{className:"text-primary",children:P(n())})]})]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s("builder.steps.checkout.demoNotice")}),e.jsxs(w,{variant:"shimmer",size:"lg",disabled:!x,onClick:d,className:"w-full sm:w-auto sm:min-w-50",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),s("builder.steps.checkout.placeOrder")]})]})]})}const oa=[ea,sa,ta,aa,ra,ia,na,la,ca];function $a(){const{t:s}=_(),{state:t,nextStep:r,prevStep:a,setStep:i,getTotalPrice:n,saveDesign:l,resetBuilder:c}=E(),[d,x]=u.useState(1),p=u.useCallback(()=>{x(1),r()},[r]),m=u.useCallback(()=>{x(-1),a()},[a]),o=u.useCallback(g=>{x(g>t.currentStep?1:-1),i(g)},[t.currentStep,i]),h=(t.currentStep+1)/be*100,y=oa[t.currentStep],j=["occasion","recipient","budget","packaging","theme","items","card","preview","checkout"];return e.jsxs(Ds,{children:[e.jsx(Bs,{title:s("builder.title"),description:s("builder.subtitle"),path:ke.BUILDER}),e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b border-border",children:e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-lg font-bold",children:s("builder.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("builder.subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>l(),title:s("builder.saveDesign"),children:[e.jsx(tt,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline ml-1",children:s("builder.saveDesign")})]}),e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>c(),title:s("builder.resetBuilder"),children:e.jsx(Te,{className:"h-4 w-4"})})]})]}),e.jsx(Le,{value:h,className:"h-1.5"}),e.jsx("div",{className:"flex items-center justify-between overflow-x-auto gap-1 pb-1 scrollbar-hide",children:j.map((g,f)=>{const I=Xt[f],v=t.currentStep===f,N=t.currentStep>f;return e.jsxs("button",{onClick:()=>o(f),className:k("flex flex-col items-center gap-0.5 min-w-14 py-1 px-1 rounded-lg transition-all duration-200 group",v&&"bg-primary/10",!v&&"hover:bg-muted"),children:[e.jsx("div",{className:k("w-7 h-7 rounded-full flex items-center justify-center transition-all duration-200",v&&"bg-primary text-primary-foreground shadow-md",N&&!v&&"bg-primary/20 text-primary",!v&&!N&&"bg-muted text-muted-foreground group-hover:bg-muted-foreground/20"),children:N&&!v?e.jsx(V,{className:"h-3.5 w-3.5"}):e.jsx(I,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:k("text-[10px] leading-tight text-center transition-colors",v?"font-semibold text-primary":"text-muted-foreground"),children:s(`builder.steps.${g}.title`)})]},g)})})]})}),e.jsx("div",{className:"flex-1 mx-auto max-w-5xl px-4 py-8 w-full",children:e.jsx(Ne,{mode:"wait",custom:d,children:e.jsx(b.div,{custom:d,variants:Zt,initial:"enter",animate:"center",exit:"exit",transition:qt,children:e.jsx(y,{})},t.currentStep)})}),!t.orderPlaced&&e.jsx("div",{className:"sticky bottom-0 z-40 bg-background/80 backdrop-blur-lg border-t border-border",children:e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-3 flex items-center justify-between gap-4",children:[e.jsxs(w,{variant:"outline",onClick:m,disabled:t.currentStep===0,className:"gap-1",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:s("builder.previous")})]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s("builder.pricing.total")}),e.jsx(b.p,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-lg font-bold text-primary",children:P(n())},n())]}),t.currentStep<be-1?e.jsxs(w,{onClick:p,className:"gap-1",children:[e.jsx("span",{className:"hidden sm:inline",children:s("builder.next")}),e.jsx(Hs,{className:"h-4 w-4"})]}):e.jsxs(w,{variant:"shimmer",onClick:p,className:"gap-1",disabled:!0,children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:s("builder.finish")})]})]})})]})]})}export{$a as default};
